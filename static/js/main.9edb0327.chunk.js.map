{"version":3,"sources":["index.js"],"names":["lines","Square","props","classname","value","className","winner","onClick","Board","i","uKey","j","length","key","this","squares","res","tmp","a","b","c","findWinnerLine","push","renderSquare","rowId","slice","React","Component","Game","state","history","Array","fill","moveIndex","stepNumber","xIsNext","chronological","setState","step","calculateWinner","concat","status","current","moves","map","move","jumpTo","column","row","Math","trunc","desc2","beginning","shift","reverse","unshift","handleClick","reverseOrder","undefined","find","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9edb0327.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nconst lines = [\n\t[0, 1, 2],\n\t[3, 4, 5],\n\t[6, 7, 8],\n\t[0, 3, 6],\n\t[1, 4, 7],\n\t[2, 5, 8],\n\t[0, 4, 8],\n\t[2, 4, 6],\n];\n\nfunction Square(props) {\n\tlet classname = \"square \";\n\tif (props.value)\n\t\tclassname += \"played \";\n\treturn (\n\t\t<button className={classname + props.winner} onClick={props.onClick}>\n\t\t\t{props.value}\n\t\t</button>\n\t)\n}\n\nclass Board extends React.Component {\n\n\trenderSquare(i, winner) {\n\t\tconst uKey = \"square\" + i;\n\t\tlet value = winner !== null ? \"empty\" : \"\";\n\t\tfor (let j = 0; winner !== null && j < lines.length; j++)\n\t\t\tif (lines[winner][j] === i)\n\t\t\t\tvalue = \"winner\";\n\t\treturn (<Square\n\t\t\t\t\tkey={uKey}\n\t\t\t\t\tvalue={this.props.squares[i]}\n\t\t\t\t\tonClick={() => this.props.onClick(i)}\n\t\t\t\t\twinner={value}\n\t\t\t\t/>);\n\t}\n\n\trender() {\n\t\tlet res = [];\n\t\tlet tmp = [];\n\t\tlet winner = findWinnerLine(this.props.squares);\n\t\tfor (let i = 0; i < 9; i++) {\n\t\t\ttmp.push(this.renderSquare(i, winner));\n\t\t\tif ((i + 1) % 3 === 0) {\n\t\t\t\tconst rowId = \"row\" + ((i + 1) / 3);\n\t\t\t\tres.push(<div className=\"board-row\" key={rowId}>{tmp.slice()}</div>);\n\t\t\t\ttmp = [];\n\t\t\t}\n\t\t}\n\t\treturn (<div>{res}</div>);\n\t}\n}\n\nclass Game extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thistory: [{\n\t\t\t\tsquares: Array(9).fill(null),\n\t\t\t\tmoveIndex: null\n\t\t\t}],\n\t\t\tstepNumber: 0,\n\t\t\txIsNext: true,\n\t\t\tchronological: true\n\t\t}\n\t}\n\n\treverseOrder() {\n\t\tthis.setState({chronological: !this.state.chronological});\n\t}\n\n\tjumpTo(step) {\n\t\tthis.setState({\n\t\t\tstepNumber: step,\n\t\t\txIsNext: (step % 2) === 0\n\t\t})\n\t}\n\n\thandleClick(i) {\n\t\tconst history = this.state.history.slice(0, this.state.stepNumber + 1);\n\t\tconst current = history[history.length - 1];\n\t\tconst squares = current.squares.slice();\n\t\tif (calculateWinner(squares) || squares[i])\n\t\t\treturn;\n\t\tsquares[i] = (this.state.xIsNext ? 'X' : 'O');\n\t\tthis.setState({\n\t\t\thistory: history.concat([{\n\t\t\t\tsquares: squares,\n\t\t\t\tmoveIndex: i\n\t\t\t}]),\n\t\t\tstepNumber: history.length,\n\t\t\txIsNext: !this.state.xIsNext\n\t\t});\n\t}\n\n\trender() {\n\t\tconst history = this.state.history;\n\t\tconst current = history[this.state.stepNumber];\n\t\tconst winner = calculateWinner(current.squares);\n\n\t\tconst moves = history.map((step, move) => {\n\t\t\tif (!move)\n\t\t\t\treturn (<button key={move} className=\"moves\" onClick={() => this.jumpTo(move)}>Revenir au début de la partie.</button>);\n\t\t\tconst column = step.moveIndex % 3 + 1;\n\t\t\tconst row = Math.trunc(step.moveIndex / 3) + 1;\n\t\t\tconst played = ((move % 2) === 1 ? 'X' : 'O');\n\t\t\tconst desc = 'Tour n°';\n\t\t\tconst desc2 = ': ' + played + '(' + column + ',' + row + ').';\n\t\t\treturn (<button key={move} className=\"moves\" onClick={() => this.jumpTo(move)}>{desc}<b>{move}</b>{desc2}</button>)\n\t\t});\n\n\t\tif (!this.state.chronological) {\n\t\t\tconst beginning = moves.shift();\n\t\t\tmoves.reverse();\n\t\t\tmoves.unshift(beginning);\n\t\t}\n\n\t\tlet status;\n\t\tif (winner) {\n\t\t\tstatus = winner === '=' ? 'Match nul.' : winner + ' a gagné.';\n\t\t} else {\n\t\t\tstatus = 'Prochain joueur : ' + (this.state.xIsNext ? 'X' : 'O')\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"game\">\n\t\t\t\t<div className=\"game-board\">\n\t\t\t\t\t<Board squares={current.squares} onClick={(i) => this.handleClick(i)}/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"game-info\">\n\t\t\t\t\t<div>{status}</div>\n\t\t\t\t\t<button className=\"moves\" onClick={() => this.reverseOrder()}>Changer l'ordre des boutons.</button>\n\t\t\t\t\t{moves}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction calculateWinner(squares) {\n\tfor (let i = 0; i < lines.length; i++) {\n\t\tconst [a, b, c] = lines[i];\n\t\tif (squares[a] && squares[a] === squares[b] && squares[a] === squares[c])\n\t\t\treturn squares[a];\n\t}\n\tconst found = squares.find(element => element === null);\n\tif (found === undefined)\n\t\treturn '=';\n\treturn null;\n}\n\nfunction findWinnerLine(squares) {\n\tfor (let i = 0; i < lines.length; i++) {\n\t\tconst [a, b, c] = lines[i];\n\t\tif (squares[a] && squares[a] === squares[b] && squares[a] === squares[c])\n\t\t\treturn i;\n\t}\n\treturn null;\n}\n\n\t// ========================================\n\nReactDOM.render(\n\t<Game />,\n\tdocument.getElementById('root')\n);"],"sourceRoot":""}